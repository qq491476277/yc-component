---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ccc-registration
  labels:
    app: ccc-registration
spec:
  replicas: REPLICAS_PLACEHOLDER
  strategy:
    type: Recreate
  template:
    metadata:
      name: ccc-registration
      labels:
        app: ccc-registration
    spec:
      containers:
      - name: ccc-registration
        image: registry-vpc.cn-shanghai.aliyuncs.com/ly_release/ccc-registration:IMAGE_PLACEHOLDER
        imagePullPolicy: Always
        resources:
          limits:
            memory: 1Gi
            cpu: 1000m
          requests:
            cpu: 10m
            memory: 50Mi
        # volumeMounts:
        #   - mountPath: "/etc/nginx/conf.d/default.conf"
        #     name: config
        #     subPath: "default.conf"             
      restartPolicy: Always
      imagePullSecrets:
      - name: registry-ccc-registration
      # volumes:
      #   - name: config
      #     configMap:
      #       name: ccc-registration-config     
  selector:
    matchLabels:
      app: ccc-registration
